<div ng-include="'partials/navbar.html'"></div>

<div ng-controller="UserCtrl">
  <div ng-show="successMsgVisible" class="alert alert-sucess" role="alert">
    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
    <span class="sr-only">Error:</span>
    Password changed successfully!
  </div>

<div class="row vertical-offset-100">
  <div class="col-md-4 col-md-offset-4">
    <h3>Change Password</h3>
    <div class="panel panel-default">
      <div class="panel-body">
        <form ng-submit='changePassword(password, confirm_password)' id="passwordForm" name="passwordForm" accept-charset="UTF-8" role="form">
          <fieldset>
            <div class="form-group" show-errors>
              <label for="password">Password (*)</label>
              <input class="form-control" ng-model="password" placeholder="******" name="password" id="password" type="password" required ng-minlength="6" ng-maxlength="30">
              <p ng-show="passwordForm.password.$dirty && passwordForm.password.$error.required" class="text-danger">
                This Field is Required!
              </p>
              <p ng-show="passwordForm.password.$error.minlength || passwordForm.password.$error.maxlength" class="text-danger">
                Password must be between 6 and 30 characters!
              </p>
            </div>
            <div class="form-group" show-errors>
              <label for="confirm_password">Confirm Password (*)</label>
              <input class="form-control" ng-model="confirm_password.firstname" name="confirm_password" id ="confirm_password" placeholder="******" type="password" required ng-minlength="6" ng-maxlength="30" pw-check="password">
              <p ng-show="passwordForm.confirm_password.$dirty && passwordForm.confirm_password.$error.required" class="text-danger">
                This Field is Required!
              </p>
              <p ng-show="passwordForm.confirm_password.$error.minlength || passwordForm.confirm_password.$error.maxlength" class="text-danger">
                Confirmation password must be between 6 and 30 characters!
              </p>
              <div class="" ng-show="passwordForm.$error">
                <p class="text-danger" ng-show="passwordForm.confirm_password.$error.pwmatch">
                  Passwords don't match.
                </p>
              </div>
            </div>
            <input type="submit" class="btn btn-primary" id="submit" value="Change" />
            <a ng-click="cancelChangePassword()" class="btn btn-default">Cancel</a>
          </fieldset>
        </form>
      </div>
      <div class="panel-footer">
        <p class="help-block center-block">(*) indicates required fields.</p>
      </div>
    </div> <!-- end panel -->
  </div> <!-- end column -->
</div> <!-- end row -->
</div> <!-- end UserCtrl -->
