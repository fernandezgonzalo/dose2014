<div ng-include="'partials/navbar.html'"></div>


<div ng-controller="ProjectsCtrl">
  <div class="container">

    <div class="row">
      <span class="dropdown" dropdown on-toggle="toggled(open)">
        <a href class="dropdown-toggle" dropdown-toggle>
          <h3>Projects <span class="caret"></span></h3>
        </a>
        <ul class="dropdown-menu">
          <li>
            <a href="#/project/create"><i class="fa fa-plus"></i> Create Project</a>
          </li>
        </ul>
      </span>
    </div>

      <!-- Projects -->
      <div class="col-md-6">
        <div ng-repeat="project in projects">

            <div ng-click="sendEventProjectId(project.id)" id="stream" fade-in>
              <!-- stream item -->
              <div class="stream-item">
                <div class="row">
                  <div class="stream-panel credits">
                    <ul class="stream-panel-ul">
                      <li><span class="item-title">{{ project.name }}</span></li>
                      <li><span class="item-content">Owner: {{ project.owner }}</span></li>
                      <li><span class="item-content">Description: {{ project.description }}</span></li>
                      <li>
                        <p><small class="text-muted"><i class="glyphicon glyphicon-time"></i> Start Date: {{ project.start_date|date:'yyyy/MM/dd' }} - End Date: {{ project.end_date|date:'yyyy/MM/dd' }} - Status: <strong class="item-status-{{ project.status|projectStatusFromValue }}">{{project.status|projectStatusFromValue}}</strong></small></p> </li>
                        <li>
                          <div class="btn-group pull-right">
                            <a ng-href="#/sprint/create/{{project.id}}" class="btn btn-default btn-xs"><span class="glyphicon glyphicon-plus"></span> Sprint</a>
                            <a ng-click="sendEventProjectId(project.id)"  class="btn btn-default btn-xs"><span class="glyphicon glyphicon-list"></span> Sprints</a>
                            <a href="#projectMembers" class="btn btn-default btn-xs" data-toggle="modal"><span class="glyphicon glyphicon-user"></span> Members</a>
                            <a ng-href="#/project/edit/{{project.id}}" class="btn btn-default btn-xs"><span class="glyphicon glyphicon-cog"></span> Properties</a>
                            <a ng-click='deleteProject(project.id);' class="btn btn-default btn-xs"><span class="glyphicon glyphicon-trash"></span> Delete</a>
                            <a ng-click='inviteDevelopersToProject();' class="btn btn-default btn-xs"><span class="glyphicon glyphicon-share"></span> Share</a>
                          </div>
                          <div class="clearfix"></div>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div> <!-- end stream-item -->
              </div> <!-- end stream -->

        </div>

      </div> <!-- end Projects -->

      <div ng-controller="SprintsCtrl">
        <!-- Sprints -->
        <div class="col-md-6">
          <div ng-repeat="sprint in sprints">
            <div id="stream" fade-in> <!-- ng-click="redirectTo(projectId,sprint.id)"-->
              <!-- stream item -->
              <div class="stream-item">
                <div class="row">
                  <div class="stream-panel credits">
                    <ul class="stream-panel-ul">
                      <li><span class="item-title">{{ sprint.name }}</span></li>
                      <li>
                        <p><small class="text-muted"><i class="glyphicon glyphicon-time"></i> Start Date: {{ sprint.start_date|date:'yyyy/MM/dd' }} - End Date: {{ sprint.end_date|date:'yyyy/MM/dd' }} - Status: <strong class="item-status-{{ sprint.status|sprintStatusFromValue }}">{{ sprint.status|sprintStatusFromValue }}</strong></small></p> </li>
                        <li>
                          <div class="btn-group pull-right">

                            <a ng-href="#/projects/{{projectId}}/sprints/{{sprint.id}}/stories"  class="btn btn-default btn-xs"><span class="glyphicon glyphicon-th-list"></span> Stories</a>
                            <a ng-href="#/taskboard/project/{{projectId}}/sprint/{{sprint.id}}"  class="btn btn-default btn-xs"><span class="glyphicon glyphicon-list-alt"></span> Taskboard</a>
                            <a ng-href="#/projects/{{projectId}}/sprints/edit/{{sprint.id}}" class="btn btn-default btn-xs"><span class="glyphicon glyphicon-cog"></span> Properties</a>

                            <a ng-click='deleteSprint(projectId, sprint.id);' class="btn btn-default btn-xs"><span class="glyphicon glyphicon-trash"></span> Delete</a>
                          </div>
                          <div class="clearfix"></div>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div> <!-- end stream-item -->
            </div>

          </div>

        </div>
        <!-- end Sprints -->

      </div>

    </div> <!-- end row -->
  </div> <!-- end container -->
</div> <!-- end ProjectCtrl -->










<!--
<div>
  <div class="container">

    <div class="row">
      <div class="col-md-10 col-md-offset-1">
        <h2>All Todos</h2>
      </div>
    </div>

    <div class="row">
      <div class="col-md-10 col-md-offset-1">
		<table class="table">
		  <tr>
		    <th>Description</th>
		    <th>Name</th>
		    <th>Action</th>
		  </tr>
		  <tr ng-repeat="project in projects">
		  	<td>{{project.description}}</td>
		  	<td>{{project.name}}</td>
		  	<td><button ng-click="removeTodo(todo.todoId)">Remove</button></td>
		  </tr>
		</table>
      </div>
    </div>

    <div class="row">
      <div class="col-md-5 col-md-offset-1">
		<form role="form">
		  <div class="form-group">
		    <label for="todoInput">Add todo</label>
		    <input type="text" class="form-control" ng-model="todoModel.description" id="todoInput" placeholder="Todo description">
		  </div>

		  <button ng-click="addTodo(todoModel.description)" class="btn btn-default">
		  	Add todo
		  </button>
		</form>
      </div>
    </div>


  </div>
</div> -->
